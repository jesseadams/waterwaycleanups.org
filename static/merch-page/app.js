import ot from"react";import at from"react-dom/client";import{useState as tt}from"react";import{jsx as N}from"react/jsx-runtime";var q=()=>N("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:N("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),P=q;import{jsx as b,jsxs as w}from"react/jsx-runtime";var $=({onCartClick:t,cartCount:e})=>b("header",{className:"bg-white shadow-md sticky top-0 z-20",children:w("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[w("div",{className:"flex items-center space-x-4",children:[b("img",{src:"https://waterwaycleanups.org/images/logo.png",alt:"Waterway Cleanups Logo",className:"h-12"}),b("h1",{className:"text-2xl font-bold text-brand-blue tracking-wide",children:"Merchandise"})]}),w("button",{onClick:t,className:"relative text-gray-600 hover:text-brand-teal transition-colors duration-200","aria-label":`Open cart with ${e} items`,children:[b(P,{}),e>0&&b("span",{className:"absolute -top-2 -right-2 bg-brand-teal text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:e})]})]})}),I=$;var S=[{id:"tshirt-001",name:"Waterway Cleanups Supporter T-Shirt",price:25,currency:"USD",images:["https://picsum.photos/seed/wcshirt1/600/600","https://picsum.photos/seed/wcshirt2/600/600","https://picsum.photos/seed/wcshirt3/600/600"],description:"Show your support with this 100% organic cotton t-shirt. Comfortable, durable, and eco-friendly. All proceeds go directly to our cleanup efforts.",stripePriceId:"price_1PflA2Rx5hAZ4SZbD7h9yX32"},{id:"hat-001",name:"Cleanup Crew Cap",price:22,currency:"USD",images:["https://picsum.photos/seed/wchat1/600/600"],description:"A stylish and practical cap made from recycled materials. Perfect for sunny days out on the water or just showing your support around town.",stripePriceId:"price_1PflBHRx5hAZ4SZb4X9o0802"},{id:"bottle-001",name:"Reusable Water Bottle",price:18.5,currency:"USD",images:["https://picsum.photos/seed/wcbottle1/600/600","https://picsum.photos/seed/wcbottle2/600/600"],description:"Stay hydrated and reduce plastic waste with our branded reusable water bottle. Stainless steel, insulated, and built to last.",stripePriceId:"price_1PflCFRx5hAZ4SZbQy6M9k1c"}];import{useState as O}from"react";import{jsx as f,jsxs as C}from"react/jsx-runtime";var W=({product:t,addToCart:e})=>{let[r,a]=O(0),i=()=>{e(t,1)};return C("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden flex flex-col transition-transform duration-300 hover:scale-105",children:[C("div",{className:"relative",children:[f("img",{src:t.images[r],alt:`${t.name} - view ${r+1}`,className:"w-full h-80 object-cover"}),t.images.length>1&&f("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex space-x-2",children:t.images.map((p,o)=>f("button",{onClick:()=>a(o),className:`h-2 w-2 rounded-full transition-colors ${r===o?"bg-white":"bg-white/50 hover:bg-white"}`,"aria-label":`View image ${o+1}`},o))})]}),C("div",{className:"p-6 flex flex-col flex-grow",children:[f("h3",{className:"text-xl font-bold text-gray-900",children:t.name}),f("p",{className:"text-lg font-semibold text-brand-teal mt-1",children:new Intl.NumberFormat("en-US",{style:"currency",currency:t.currency}).format(t.price)}),f("p",{className:"text-gray-600 mt-2 flex-grow",children:t.description}),f("button",{onClick:i,className:"mt-4 w-full bg-brand-blue text-white font-bold py-2 px-4 rounded-md hover:bg-opacity-90 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-blue",children:"Add to Cart"})]})]})},k=W;import{jsx as v,jsxs as K}from"react/jsx-runtime";var D=({addToCart:t})=>K("div",{children:[v("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:"Our Gear"}),v("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:S.map(e=>v(k,{product:e,addToCart:t},e.id))})]}),R=D;import j,{useEffect as X,useMemo as G}from"react";import{jsx as u,jsxs as h}from"react/jsx-runtime";var Z=({item:t,onRemove:e,onUpdateQuantity:r})=>{let a=o=>{let s=parseInt(o.target.value,10);!isNaN(s)&&s>0&&r(t.id,s)},i=()=>r(t.id,t.quantity+1),p=()=>{t.quantity>1?r(t.id,t.quantity-1):e(t.id)};return h("div",{className:"flex items-center space-x-4 border-b pb-4",children:[u("img",{src:t.images[0],alt:t.name,className:"w-20 h-20 object-cover rounded-md"}),h("div",{className:"flex-grow",children:[u("h4",{className:"font-bold",children:t.name}),u("p",{className:"text-sm text-gray-600",children:new Intl.NumberFormat("en-US",{style:"currency",currency:t.currency}).format(t.price)}),h("div",{className:"flex items-center mt-2",children:[u("button",{onClick:p,className:"w-6 h-6 border rounded-l-md",children:"-"}),u("input",{type:"number",value:t.quantity,onChange:a,className:"w-10 h-6 text-center border-t border-b",min:"1"}),u("button",{onClick:i,className:"w-6 h-6 border rounded-r-md",children:"+"})]})]}),h("div",{className:"text-right",children:[u("p",{className:"font-bold",children:new Intl.NumberFormat("en-US",{style:"currency",currency:t.currency}).format(t.price*t.quantity)}),u("button",{onClick:()=>e(t.id),className:"text-sm text-red-500 hover:underline mt-1",children:"Remove"})]})]})},E=Z;import{jsx as L}from"react/jsx-runtime";var z=()=>L("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:L("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),T=z;import{loadStripe as Q}from"@stripe/stripe-js";var x=window.STRIPE_PUBLISHABLE_KEY||"";x.startsWith("pk_")||console.error("Stripe publishable key is not set or is invalid. Please set window.STRIPE_PUBLISHABLE_KEY in your HTML file.");var Y=Q(x),_=async t=>{let e=await Y;if(!e){console.error("Stripe.js has not loaded yet."),alert("Error: Payment system is not available. Please try again later.");return}if(!x.startsWith("pk_")){console.error("Stripe publishable key is not defined or invalid. Please set window.STRIPE_PUBLISHABLE_KEY in your HTML file."),alert("Error: Payment system is not configured. Please contact support.");return}let r=t.map(i=>({price:i.stripePriceId,quantity:i.quantity})),{error:a}=await e.redirectToCheckout({lineItems:r,mode:"payment",successUrl:`${window.location.origin}?session_id={CHECKOUT_SESSION_ID}`,cancelUrl:window.location.origin});a&&(console.error("Stripe checkout error:",a),alert(`An error occurred during checkout: ${a.message}`))};import{Fragment as A,jsx as n,jsxs as m}from"react/jsx-runtime";var V=({isOpen:t,onClose:e,items:r,removeFromCart:a,updateQuantity:i})=>{let[p,o]=j.useState(!1);X(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]);let s=G(()=>r.reduce((l,d)=>l+d.price*d.quantity,0),[r]),c=async()=>{o(!0),await _(r),o(!1)};return m(A,{children:[n("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity duration-300 ${t?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e,"aria-hidden":"true"}),n("div",{className:`fixed top-0 right-0 h-full w-full max-w-md bg-white shadow-2xl z-50 transform transition-transform duration-300 ${t?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"cart-heading",children:m("div",{className:"flex flex-col h-full",children:[m("div",{className:"flex justify-between items-center p-6 border-b",children:[n("h2",{id:"cart-heading",className:"text-2xl font-bold text-brand-blue",children:"Shopping Cart"}),m("button",{onClick:e,className:"text-gray-500 hover:text-gray-800 transition-colors",children:[n(T,{}),n("span",{className:"sr-only",children:"Close cart"})]})]}),r.length===0?m("div",{className:"flex-grow flex flex-col justify-center items-center text-center p-6",children:[n("p",{className:"text-gray-600 text-lg",children:"Your cart is empty."}),n("button",{onClick:e,className:"mt-4 text-brand-teal font-semibold hover:underline",children:"Continue Shopping"})]}):m(A,{children:[n("div",{className:"flex-grow overflow-y-auto p-6 space-y-4",children:r.map(l=>n(E,{item:l,onRemove:a,onUpdateQuantity:i},l.id))}),m("div",{className:"p-6 border-t space-y-4",children:[m("div",{className:"flex justify-between font-bold text-lg",children:[n("span",{children:"Subtotal"}),n("span",{children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s)})]}),n("button",{onClick:c,disabled:p,className:"w-full bg-brand-blue text-white font-bold py-3 px-4 rounded-md hover:bg-opacity-90 transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed",children:p?"Processing...":"Proceed to Checkout"})]})]})]})})]})},F=V;import{useState as J,useCallback as y}from"react";var H=()=>{let[t,e]=J([]),r=y((o,s)=>{e(c=>c.find(d=>d.id===o.id)?c.map(d=>d.id===o.id?{...d,quantity:d.quantity+s}:d):[...c,{...o,quantity:s}])},[]),a=y(o=>{e(s=>s.filter(c=>c.id!==o))},[]),i=y((o,s)=>{if(s<=0){a(o);return}e(c=>c.map(l=>l.id===o?{...l,quantity:s}:l))},[a]),p=y(()=>{e([])},[]);return{items:t,addToCart:r,removeFromCart:a,updateQuantity:i,clearCart:p}};import{jsx as g,jsxs as rt}from"react/jsx-runtime";var et=()=>{let[t,e]=tt(!1),r=H();return rt("div",{className:"font-sans antialiased text-gray-800",children:[g(I,{onCartClick:()=>e(!0),cartCount:r.items.length}),g("main",{className:"container mx-auto px-4 py-8",children:g(R,{addToCart:r.addToCart})}),g(F,{isOpen:t,onClose:()=>e(!1),...r})]})},M=et;import{jsx as U}from"react/jsx-runtime";var B=document.getElementById("root");if(!B)throw new Error("Could not find root element to mount to");var st=at.createRoot(B);st.render(U(ot.StrictMode,{children:U(M,{})}));
